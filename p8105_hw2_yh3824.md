Homework 2
================
ruby
2025-09-26

## Problem 1

Install libraries

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.2     ✔ tibble    3.3.0
    ## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
    ## ✔ purrr     1.1.0     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(readxl)
```

Upload and clean pols-month.csv dataset

``` r
pols_df = 
  read_csv("fivethirtyeight_datasets/pols-month.csv") |> 
  janitor::clean_names() |> 
  separate(mon,into = c("year", "month", "day"), sep = "-", convert = TRUE) |> 
  mutate(month = month.name[month], president = prez_dem, prez_gop ) |>   
  select(-day, -prez_dem, - prez_gop)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

upload and clean snp.csv dataset

``` r
snp_df = 
  read_csv("fivethirtyeight_datasets/snp.csv") |> 
  janitor::clean_names() |> 
  separate(date, into = c("month", "day", "year"), sep = "/", convert = TRUE) |>
  select(year, month, everything()) |> 
  mutate(month = month.name[month], 
         year = ifelse(year < 30, year + 2000, year + 1900)
         )
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

upload and clean unemployment.csv

``` r
unemploy_df = 
  read_csv("fivethirtyeight_datasets/unemployment.csv") |> 
  janitor::clean_names() |> 
  pivot_longer(jan:dec, 
               names_to = "month", 
               values_to = "unemployment %") |> 
  mutate(month = month.name[match(tolower(month), tolower(month.abb))])
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

Join the datasets by merging snp into pols, and merging unemployment
into the result. (NEED TO COME BACK HERE TO SEE WHAT KIND OF JOIN TO
USE)

``` r
prob1_df =
  left_join(snp_df, pols_df, by = "year")
```

    ## Warning in left_join(snp_df, pols_df, by = "year"): Detected an unexpected many-to-many relationship between `x` and `y`.
    ## ℹ Row 1 of `x` matches multiple rows in `y`.
    ## ℹ Row 817 of `y` matches multiple rows in `x`.
    ## ℹ If a many-to-many relationship is expected, set `relationship =
    ##   "many-to-many"` to silence this warning.

## Problem 2

import and clean mr trash wheel dataset

``` r
mrtrash_df = 
  read_excel("202409 Trash Wheel Collection Data.xlsx", 
             sheet = "Mr. Trash Wheel", 
             skip = 1, n_max = 651) |> 
  janitor::clean_names() |>  
  janitor::remove_empty(which = "cols") |> 
  mutate(sports_balls = as.integer(round(sports_balls)))
```

    ## New names:
    ## • `` -> `...15`
    ## • `` -> `...16`

import and clean professor trash wheel dataset

``` r
proftrash_df = 
  read_excel("202409 Trash Wheel Collection Data.xlsx", 
             sheet = "Professor Trash Wheel", 
             skip = 1,  n_max = 118) |> 
  janitor::clean_names()
```

import and clean gwynnda trash wheel dataset

``` r
gwynnda_df = 
  read_excel("202409 Trash Wheel Collection Data.xlsx", 
             sheet = "Gwynnda Trash Wheel", 
             skip = 1, n_max = 263) |> 
  janitor::clean_names()
```

combine datasets

``` r
fulltrash_df = 
  left_join(mrtrash_df, proftrash_df, gwynnda_df, by = "dumpster")
```

## Problem 3
